<script lang="ts">
	import { onMount } from 'svelte';
	import { sineIn } from 'svelte/easing';
	import { draw } from 'svelte/transition';

	let isShown = false;
	let isFinished = false;

	const duration = 2000;

	const transition = { duration, easing: sineIn };

	onMount(() => {
		isShown = true;
		setTimeout(() => {
			isFinished = true;
		}, duration);
	});
</script>

{#if isShown}
	<svg class="max-w-full w-full opacity-10" viewBox="0 0 2932.17 1090.01">
		<polygon
			class="stroke-none transition duration-500"
			class:fill-transparent={!isFinished}
			class:fill-white={isFinished}
			points="1366.2 1080.01 552.74 1080.01 515.87 955.01 432.87 894.01 459.87 815.01 432.87 756.01 496.6 528.27 546.32 630.18 600.68 624.15 630.42 699.77 680.37 835.78 774.3 846.41 1006.45 1041.35 939.55 891.6 959.78 741.32 933.2 653.6 960.82 520.78 940.88 422.42 968.69 324.44 1037.92 392.93 1089.03 410.46 1151.76 492.1 1234.62 616.47 1257.21 708.18 1371.52 726.79 1509.74 915.53 1706.46 924.83 1580.63 830.46 1500.88 647.93 1548.73 483.12 1492.02 291.72 1525.34 21.98 1622.46 212.66 1676.82 231.84 1772.54 476.76 1878.01 534.84 1891.02 600.59 1926.2 745.4 2027.22 802.11 2099.88 963.37 2241.65 993.5 2144.18 876.54 2167.22 780.84 2154.81 711.73 2255.83 633.75 2312.46 430.19 2454.18 731 2640.51 789.08 2658.63 830.18 2742.73 841.68 2772.01 898.12 2911.87 1080.01 1366.2 1080.01"
		/>
		<polygon
			transition:draw={transition}
			class="fill-none stroke-white stroke-[15px] lg:stroke-[10px]"
			points="112.87 955.01 130.87 884.01 279.87 845.01 496.87 525.01 548.87 633.01 602.87 625.01 631.87 699.01 699.87 701.01 745.87 593.01 837.87 517.01 875.87 411.01 969.87 328.01 1031.87 390.01 1091.87 411.01 1153.87 490.01 1318.87 366.01 1345.87 266.01 1439.87 193.01 1527.87 16.01 1627.87 216.01 1678.87 233.01 1773.87 479.01 1880.87 533.01 1897.87 607.01 2021.87 665.01 2122.87 555.01 2233.87 550.01 2311.87 430.01 2456.87 734.01 2638.87 788.01 2660.87 833.01 2746.87 842.01 2773.87 896.01 2914.87 1080.01 22.87 1079.01 112.87 955.01"
		/>
	</svg>
{/if}
